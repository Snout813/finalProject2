<!DOCTYPE html>
<html>
<head>
    <title>글 수정 페이지</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="my.css">

    <style>
        #title, #team, #projectLink{
            width:400px; 
            height:40px; 
            border-radius: 10px; 
            border: 2px solid #54B977;
        }
  
        #description{
            width:400px; 
            height:100px; 
            border-radius: 10px; 
            border: 2px solid #54B977;
        }
  
        input::placeholder{
            color: #54B977;
            font-family: WefontGothic(OTF);
            font-size: 15px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
        }
  
        .selectBox {
            position: relative;
            width: 150px;
            height: 35px;
            border-radius: 4px;
            border: 2px solid #54B977;
        }
  
        .selectBox .select {
            width: inherit;
            height: inherit;
            background: transparent;
            border: 0 none;
            outline: 0 none;
            padding: 0 5px;
            position: relative;
            z-index: 3;
        }
  
        .selectBox .select option {
            background: #54B977;
            color: #fff;
            padding: 3px 0;
            font-size: 16px;
        }
  
        .selectBox .icoArrow {
            position: absolute; 
            top: 0; 
            right: 0; 
            z-index: 1; 
            width: 35px; 
            height: inherit;
            border-left: 2px solid #54B977;
            display: flex;
            justify-content: center;
            align-items: center;
        }
          
        .selectBox .icoArrow img {
            width: 50%;
            transition: .3s; 
        }
          
        .selectBox .select:focus + .icoArrow img {
            transform: rotate(180deg);
        }
  
        .button{
            padding-top: 50px;
            padding-left: 0px;
            text-align: center;
        }
  
        #submitButton, #cancleButton{
            color: #54B977;
            font-family: WefontGothic(OTF);
            font-size: 15px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
            border: 0;
            outline: 0;
            background-color: #fff;
        }
      </style>
</head>
<body>
    <div class="weap">
        <!-- 글 수정 폼 시작 -->
        <form action="" method="post" id="myForm" onsubmit="return confirmEdit()">
            <!-- 제목 입력 -->
            <input type="text" id="title" name="title" required
                placeholder="    제목" onfocus="this.placeholder=''" onblur="this.placeholder='    제목'" value="세 왕 이야기">

            <!-- 출판년도 입력 -->
            <div class="selectBox">
                <select id="year" name="year" class="select" required>
                    <option value="">출판년도</option>
                    <!-- JavaScript로 현재 년도까지의 옵션을 동적으로 생성 -->
                    <script>
                        const currentYear = new Date().getFullYear();
                        const yearSelect = document.getElementById('year');
                        for (let year = 1950; year <= currentYear; year++) {
                            const option = document.createElement('option');
                            option.value = year;
                            option.text = year + '년';
                            yearSelect.appendChild(option);
                        }
                        yearSelect.value = "2010"; // 출판년도 설정
                    </script>
                </select>
            </div>

            <!-- 저자 입력 -->
            <input type="text" id="author" name="author" required
                placeholder="    저자" onfocus="this.placeholder=''" onblur="this.placeholder='    저자'" value="에드워드 진">
            <br>

            <div class="selectBox">
                <select id="genre" name="genre" class="select" required>
                    <option value="">장르 선택</option>
                    <option value="문학">문학</option>
                    <option value="사회과학">사회과학</option>
                    <option value="순수, 기술과학">순수, 기술과학</option>
                    <option value="예술">예술</option>
                    <option value="역사">역사</option>
                </select>
                <script>
                    // 장르 설정
                    document.getElementById('genre').value = "문학";
                </script>
                <br>
            </div>

            <!-- 설명 입력 -->
            <textarea id="description" name="description" rows="4" cols="50" required
                placeholder="  설명을 적어주세요" onfocus="this.placeholder=''" onblur="this.placeholder='  설명을 적어주세요'">다윗과 사울, 사울과 압살롬 세 왕의 이야기</textarea>
            <br>

            <!-- 제출 버튼 -->
            <input type="submit" value="edit" id="editButton">
            <!-- 취소 버튼 -->
            <button type="button" id="cancelButton" onclick="cancelForm()">취소</button>
        </form>
    </div>

    <script>
        function confirmEdit() {
            var isConfirmed = confirm("수정하시겠습니까?");
            if (isConfirmed) {
                var title = document.getElementById('title');
                var year = document.getElementById('year');
                var author = document.getElementById('author');
                var genre = document.getElementById('genre');
                var description = document.getElementById('description');

                if (title.value.trim() === '' ||
                    year.value === '' ||
                    author.value.trim() === '' ||
                    genre.value === '' ||
                    description.value.trim() === '') {
                    alert("내용을 전부다 채워주세요.");
                    return false;
                }
                alert("수정되었습니다.");
                window.location.assign('index.html'); // 페이지 이동
                return false;
            }
        }

        function cancelForm() {
            alert("취소하였습니다.")
            window.location.assign('index.html'); // 페이지 이동
        }
    </script>
</body>
</html>